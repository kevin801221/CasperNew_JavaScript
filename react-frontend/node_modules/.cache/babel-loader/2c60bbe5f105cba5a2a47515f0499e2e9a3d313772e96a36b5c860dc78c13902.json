{"ast":null,"code":"var _jsxFileName = \"/Users/kevinluo/application/Casper_final_version/react-frontend/src/components/MainMode/UploadArea.js\",\n  _s = $RefreshSig$();\nimport React, { useRef } from 'react';\nimport { Upload, Edit } from 'lucide-react';\nimport { useImageContext } from '../../contexts/ImageContext';\nimport Button from '../common/Button';\nimport Toggle from '../common/Toggle';\n\n/**\n * 主頁面的圖片上傳區域組件\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UploadArea = () => {\n  _s();\n  const {\n    autoRemoveBackground,\n    toggleBackgroundRemoval,\n    handleFileUpload,\n    enterBatchMode,\n    enterSingleEditorMode\n  } = useImageContext();\n  const fileInputRef = useRef(null);\n\n  // 處理檔案選擇\n  const handleFileSelect = e => {\n    handleFileUpload(e.target.files);\n\n    // 重置 input，以便可以重複上傳相同的檔案\n    if (fileInputRef.current) {\n      fileInputRef.current.value = '';\n    }\n  };\n\n  // 處理上傳按鈕點擊\n  const handleUploadClick = () => {\n    fileInputRef.current.click();\n  };\n\n  // 處理拖放上傳\n  const handleDrop = e => {\n    e.preventDefault();\n    if (e.dataTransfer.files && e.dataTransfer.files.length > 0) {\n      handleFileUpload(e.dataTransfer.files);\n    }\n  };\n\n  // 防止拖放事件的默認行為\n  const handleDragOver = e => {\n    e.preventDefault();\n  };\n\n  // 處理粘貼上傳\n  const handlePaste = e => {\n    if (e.clipboardData && e.clipboardData.items) {\n      const items = e.clipboardData.items;\n      const imageItems = Array.from(items).filter(item => item.type.startsWith('image/'));\n      if (imageItems.length > 0) {\n        const files = imageItems.map(item => item.getAsFile());\n        handleFileUpload(files);\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex-1 flex items-center justify-center bg-gray-100\",\n    onDrop: handleDrop,\n    onDragOver: handleDragOver,\n    onPaste: handlePaste,\n    tabIndex: \"0\" // 使元素可以接收鍵盤事件\n    ,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-8 flex justify-center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-16 h-16 rounded-full bg-orange-500 flex items-center justify-center text-white text-2xl font-bold\",\n          children: \"T\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        ref: fileInputRef,\n        onChange: handleFileSelect,\n        className: \"hidden\",\n        accept: \"image/jpeg,image/jpg,image/png\",\n        multiple: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"secondary\",\n        onClick: handleUploadClick,\n        className: \"mx-auto mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(Upload, {\n          size: 16,\n          className: \"mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), \"\\u4E0A\\u50B3\\u5716\\u7247\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"outline\",\n        onClick: enterBatchMode,\n        className: \"mx-auto mb-4\",\n        children: \"\\u9032\\u5165\\u6279\\u91CF\\u751F\\u6210\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"outline\",\n        onClick: enterSingleEditorMode,\n        className: \"mx-auto mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(Edit, {\n          size: 16,\n          className: \"mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this), \"\\u55AE\\u5F35\\u5716\\u7247\\u7DE8\\u8F2F\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm text-gray-500 mb-2\",\n        children: \"\\u62D6\\u66F3/\\u8907\\u88FD/\\u8CBC\\u4E0A\\u5716\\u7247\\u81F3\\u6B64\\u5340\\u584A \\xB7 \\u76F4\\u63A5\\u4E0A\\u50B3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm text-gray-500 mb-6\",\n        children: \"\\u652F\\u63F4 JPG \\xB7 JPEG \\xB7 PNG\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"mr-2\",\n          children: \"\\u81EA\\u52D5\\u53BB\\u80CC\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Toggle, {\n          isOn: autoRemoveBackground,\n          onToggle: toggleBackgroundRemoval\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n};\n_s(UploadArea, \"e8njmEueH2zs51VWiVf1GEKBqZI=\", false, function () {\n  return [useImageContext];\n});\n_c = UploadArea;\nexport default UploadArea;\nvar _c;\n$RefreshReg$(_c, \"UploadArea\");","map":{"version":3,"names":["React","useRef","Upload","Edit","useImageContext","Button","Toggle","jsxDEV","_jsxDEV","UploadArea","_s","autoRemoveBackground","toggleBackgroundRemoval","handleFileUpload","enterBatchMode","enterSingleEditorMode","fileInputRef","handleFileSelect","e","target","files","current","value","handleUploadClick","click","handleDrop","preventDefault","dataTransfer","length","handleDragOver","handlePaste","clipboardData","items","imageItems","Array","from","filter","item","type","startsWith","map","getAsFile","className","onDrop","onDragOver","onPaste","tabIndex","children","fileName","_jsxFileName","lineNumber","columnNumber","ref","onChange","accept","multiple","variant","onClick","size","isOn","onToggle","_c","$RefreshReg$"],"sources":["/Users/kevinluo/application/Casper_final_version/react-frontend/src/components/MainMode/UploadArea.js"],"sourcesContent":["import React, { useRef } from 'react';\nimport { Upload, Edit } from 'lucide-react';\nimport { useImageContext } from '../../contexts/ImageContext';\nimport Button from '../common/Button';\nimport Toggle from '../common/Toggle';\n\n/**\n * 主頁面的圖片上傳區域組件\n */\nconst UploadArea = () => {\n  const { \n    autoRemoveBackground, \n    toggleBackgroundRemoval, \n    handleFileUpload,\n    enterBatchMode,\n    enterSingleEditorMode\n  } = useImageContext();\n  \n  const fileInputRef = useRef(null);\n\n  // 處理檔案選擇\n  const handleFileSelect = (e) => {\n    handleFileUpload(e.target.files);\n    \n    // 重置 input，以便可以重複上傳相同的檔案\n    if (fileInputRef.current) {\n      fileInputRef.current.value = '';\n    }\n  };\n\n  // 處理上傳按鈕點擊\n  const handleUploadClick = () => {\n    fileInputRef.current.click();\n  };\n\n  // 處理拖放上傳\n  const handleDrop = (e) => {\n    e.preventDefault();\n    \n    if (e.dataTransfer.files && e.dataTransfer.files.length > 0) {\n      handleFileUpload(e.dataTransfer.files);\n    }\n  };\n\n  // 防止拖放事件的默認行為\n  const handleDragOver = (e) => {\n    e.preventDefault();\n  };\n\n  // 處理粘貼上傳\n  const handlePaste = (e) => {\n    if (e.clipboardData && e.clipboardData.items) {\n      const items = e.clipboardData.items;\n      \n      const imageItems = Array.from(items).filter(item => item.type.startsWith('image/'));\n      \n      if (imageItems.length > 0) {\n        const files = imageItems.map(item => item.getAsFile());\n        handleFileUpload(files);\n      }\n    }\n  };\n\n  return (\n    <div \n      className=\"flex-1 flex items-center justify-center bg-gray-100\"\n      onDrop={handleDrop}\n      onDragOver={handleDragOver}\n      onPaste={handlePaste}\n      tabIndex=\"0\" // 使元素可以接收鍵盤事件\n    >\n      <div className=\"text-center\">\n        <div className=\"mb-8 flex justify-center\">\n          <div className=\"w-16 h-16 rounded-full bg-orange-500 flex items-center justify-center text-white text-2xl font-bold\">\n            T\n          </div>\n        </div>\n        \n        {/* 隱藏的檔案輸入框 */}\n        <input \n          type=\"file\" \n          ref={fileInputRef} \n          onChange={handleFileSelect} \n          className=\"hidden\" \n          accept=\"image/jpeg,image/jpg,image/png\"\n          multiple\n        />\n        \n        <Button \n          variant=\"secondary\"\n          onClick={handleUploadClick}\n          className=\"mx-auto mb-4\"\n        >\n          <Upload size={16} className=\"mr-2\" />\n          上傳圖片\n        </Button>\n        \n        <Button \n          variant=\"outline\"\n          onClick={enterBatchMode}\n          className=\"mx-auto mb-4\"\n        >\n          進入批量生成\n        </Button>\n        \n        <Button \n          variant=\"outline\"\n          onClick={enterSingleEditorMode}\n          className=\"mx-auto mb-8\"\n        >\n          <Edit size={16} className=\"mr-2\" />\n          單張圖片編輯\n        </Button>\n        \n        <div className=\"text-sm text-gray-500 mb-2\">\n          拖曳/複製/貼上圖片至此區塊 · 直接上傳\n        </div>\n        <div className=\"text-sm text-gray-500 mb-6\">\n          支援 JPG · JPEG · PNG\n        </div>\n        \n        <div className=\"flex items-center justify-center\">\n          <span className=\"mr-2\">自動去背</span>\n          <Toggle \n            isOn={autoRemoveBackground} \n            onToggle={toggleBackgroundRemoval} \n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default UploadArea;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
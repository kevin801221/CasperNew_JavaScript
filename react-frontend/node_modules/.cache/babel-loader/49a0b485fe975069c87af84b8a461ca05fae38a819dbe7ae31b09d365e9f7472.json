{"ast":null,"code":"var _jsxFileName = \"/Users/kevinluo/application/Casper_final_version/react-frontend/src/contexts/ImageContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useState, useContext } from 'react';\n\n// 創建圖片上下文\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ImageContext = /*#__PURE__*/createContext();\n\n// 自定義 Hook 以便於在組件中使用上下文\nexport const useImageContext = () => {\n  _s();\n  return useContext(ImageContext);\n};\n\n// 上下文提供者組件\n_s(useImageContext, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport const ImageContextProvider = ({\n  children\n}) => {\n  _s2();\n  // 頁面狀態管理\n  // 'main': 主頁面\n  // 'batch': 批量處理頁面\n  // 'customBg': 自定義背景頁面 (AI 商品圖-2-2)\n  // 'bgResults': 背景生成結果頁面 (AI 商品圖-2-3)\n  // 'sizeAdjust': 尺寸調整頁面 (AI 商品圖-2-4)\n  const [currentPage, setCurrentPage] = useState('main');\n\n  // 基本設置\n  const [autoRemoveBackground, setAutoRemoveBackground] = useState(true);\n  const [uploadedImages, setUploadedImages] = useState([]);\n  const [selectedImages, setSelectedImages] = useState([]);\n  const [isFileMenuOpen, setIsFileMenuOpen] = useState(false);\n  const [isDownloadMenuOpen, setIsDownloadMenuOpen] = useState(false);\n  const [backgroundCategory, setBackgroundCategory] = useState('all');\n  const [searchQuery, setSearchQuery] = useState('');\n  const [zoomLevel, setZoomLevel] = useState(1); // 1 = 100% (正常大小)\n\n  // 自定義背景頁面狀態\n  const [bgDesignMode, setBgDesignMode] = useState('recommend'); // 'recommend' 或 'custom'\n  const [prompt, setPrompt] = useState('');\n  const [negativePrompt, setNegativePrompt] = useState('');\n  const [referenceImages, setReferenceImages] = useState([]);\n\n  // 背景生成結果頁面狀態\n  const [generatedBackgrounds, setGeneratedBackgrounds] = useState([]);\n  const [selectedBackground, setSelectedBackground] = useState(null);\n\n  // 尺寸調整頁面狀態\n  const [canvasWidth, setCanvasWidth] = useState(1200);\n  const [canvasHeight, setCanvasHeight] = useState(1200);\n  const [aspectRatio, setAspectRatio] = useState('custom'); // 'custom', '1:1', '4:3', '16:9'\n  const [margin, setMargin] = useState(20); // 圖片與畫布的邊距\n\n  // 模擬數據\n  const recommendedBackgrounds = ['/api/placeholder/120/90', '/api/placeholder/120/90', '/api/placeholder/120/90'];\n  const recentlyUsedBackgrounds = ['/api/placeholder/120/90', '/api/placeholder/120/90', '/api/placeholder/120/90'];\n\n  // 背景圖分類\n  const backgroundCategories = [{\n    id: 'all',\n    name: '全部'\n  }, {\n    id: 'literary',\n    name: '文青'\n  }, {\n    id: 'minimal',\n    name: '簡約'\n  }, {\n    id: 'fashion',\n    name: '時尚'\n  }, {\n    id: 'more',\n    name: '更多'\n  }];\n  const backgroundSubCategories = [{\n    id: 'home',\n    name: '居家'\n  }, {\n    id: 'kitchen',\n    name: '餐廚'\n  }, {\n    id: 'flower',\n    name: '花'\n  }];\n\n  // 頁面導航函數\n  const enterBatchMode = () => setCurrentPage('batch');\n  const exitBatchMode = () => setCurrentPage('main');\n  const enterCustomBgMode = () => setCurrentPage('customBg');\n  const enterBgResultsMode = () => setCurrentPage('bgResults');\n  const enterSizeAdjustMode = () => setCurrentPage('sizeAdjust');\n  const goBack = () => {\n    // 根據當前頁面決定返回哪個頁面\n    switch (currentPage) {\n      case 'customBg':\n        setCurrentPage('batch');\n        break;\n      case 'bgResults':\n        setCurrentPage('customBg');\n        break;\n      case 'sizeAdjust':\n        setCurrentPage('bgResults');\n        break;\n      default:\n        setCurrentPage('main');\n    }\n  };\n\n  // 切換自動去背功能\n  const toggleBackgroundRemoval = () => setAutoRemoveBackground(!autoRemoveBackground);\n\n  // 切換圖片選擇狀態\n  const toggleImageSelection = id => {\n    if (selectedImages.includes(id)) {\n      setSelectedImages(selectedImages.filter(imageId => imageId !== id));\n    } else {\n      setSelectedImages([...selectedImages, id]);\n    }\n  };\n\n  // 刪除選中的圖片\n  const deleteSelectedImages = () => {\n    setUploadedImages(uploadedImages.filter(img => !selectedImages.includes(img.id)));\n    setSelectedImages([]);\n  };\n\n  // 刪除單個圖片\n  const deleteImage = id => {\n    setUploadedImages(uploadedImages.filter(img => img.id !== id));\n    if (selectedImages.includes(id)) {\n      setSelectedImages(selectedImages.filter(imageId => imageId !== id));\n    }\n  };\n\n  // 處理檔案上傳\n  const handleFileUpload = files => {\n    if (files && files.length > 0) {\n      const newImages = Array.from(files).filter(file => file.type.startsWith('image/')).map(file => ({\n        id: Date.now() + Math.random(),\n        url: URL.createObjectURL(file),\n        name: file.name,\n        has_bg_removed: autoRemoveBackground\n      }));\n      setUploadedImages(prev => [...prev, ...newImages]);\n\n      // 如果在主頁面上傳圖片，自動進入批量模式\n      if (currentPage === 'main') {\n        setCurrentPage('batch');\n      }\n    }\n  };\n\n  // 縮放控制\n  const zoomIn = () => setZoomLevel(prev => Math.min(prev + 0.1, 2));\n  const zoomOut = () => setZoomLevel(prev => Math.max(prev - 0.1, 0.5));\n\n  // 生成背景函數\n  const generateBackgrounds = () => {\n    console.log('生成背景，提示詞:', prompt);\n    console.log('負面提示詞:', negativePrompt);\n    console.log('參考圖片數量:', referenceImages.length);\n\n    // 模擬生成背景的過程\n    // 在實際應用中，這裡會調用 API 生成背景\n    const mockGeneratedBackgrounds = ['/api/placeholder/300/300?text=背景1', '/api/placeholder/300/300?text=背景2', '/api/placeholder/300/300?text=背景3', '/api/placeholder/300/300?text=背景4'];\n    setGeneratedBackgrounds(mockGeneratedBackgrounds);\n    setSelectedBackground(mockGeneratedBackgrounds[0]); // 默認選中第一個\n\n    // 導航到背景生成結果頁面\n    enterBgResultsMode();\n  };\n\n  // 生成更多背景選項\n  const generateMoreBackgrounds = () => {\n    console.log('生成更多背景選項');\n\n    // 模擬生成更多背景\n    const mockMoreBackgrounds = ['/api/placeholder/300/300?text=新背景1', '/api/placeholder/300/300?text=新背景2', '/api/placeholder/300/300?text=新背景3', '/api/placeholder/300/300?text=新背景4'];\n    setGeneratedBackgrounds(mockMoreBackgrounds);\n    setSelectedBackground(mockMoreBackgrounds[0]);\n  };\n\n  // 應用選定的背景到所有選中的圖片\n  const applyBackgroundToImages = () => {\n    if (!selectedBackground) return;\n    console.log('應用背景到圖片');\n\n    // 在實際應用中，這裡會調用 API 將背景應用到圖片\n    // 現在只是模擬這個過程\n\n    // 返回批量處理頁面\n    setCurrentPage('batch');\n  };\n\n  // 更新畫布尺寸並保持比例\n  const updateCanvasSize = (width, height, keepRatio = false) => {\n    if (keepRatio) {\n      if (width) {\n        const newHeight = aspectRatio === '1:1' ? width : aspectRatio === '4:3' ? Math.round(width * 3 / 4) : aspectRatio === '16:9' ? Math.round(width * 9 / 16) : height;\n        setCanvasWidth(width);\n        setCanvasHeight(newHeight);\n      } else if (height) {\n        const newWidth = aspectRatio === '1:1' ? height : aspectRatio === '4:3' ? Math.round(height * 4 / 3) : aspectRatio === '16:9' ? Math.round(height * 16 / 9) : width;\n        setCanvasHeight(height);\n        setCanvasWidth(newWidth);\n      }\n    } else {\n      if (width) setCanvasWidth(width);\n      if (height) setCanvasHeight(height);\n    }\n  };\n\n  // 設置畫布比例\n  const setCanvasAspectRatio = ratio => {\n    setAspectRatio(ratio);\n\n    // 根據新比例調整畫布尺寸\n    if (ratio === 'custom') return; // 自定義比例不自動調整\n\n    if (ratio === '1:1') {\n      // 使用當前寬度，高度設為相等\n      setCanvasHeight(canvasWidth);\n    } else if (ratio === '4:3') {\n      // 使用當前寬度，計算對應的高度\n      setCanvasHeight(Math.round(canvasWidth * 3 / 4));\n    } else if (ratio === '16:9') {\n      // 使用當前寬度，計算對應的高度\n      setCanvasHeight(Math.round(canvasWidth * 9 / 16));\n    }\n  };\n\n  // 提供的上下文值\n  const contextValue = {\n    // 基本狀態\n    currentPage,\n    autoRemoveBackground,\n    uploadedImages,\n    selectedImages,\n    isFileMenuOpen,\n    isDownloadMenuOpen,\n    backgroundCategory,\n    searchQuery,\n    zoomLevel,\n    recommendedBackgrounds,\n    recentlyUsedBackgrounds,\n    backgroundCategories,\n    backgroundSubCategories,\n    // 自定義背景頁面狀態\n    bgDesignMode,\n    prompt,\n    negativePrompt,\n    referenceImages,\n    // 背景生成結果頁面狀態\n    generatedBackgrounds,\n    selectedBackground,\n    // 尺寸調整頁面狀態\n    canvasWidth,\n    canvasHeight,\n    aspectRatio,\n    margin,\n    // 設置函數\n    setCurrentPage,\n    setAutoRemoveBackground,\n    setUploadedImages,\n    setSelectedImages,\n    setIsFileMenuOpen,\n    setIsDownloadMenuOpen,\n    setBackgroundCategory,\n    setSearchQuery,\n    setZoomLevel,\n    setBgDesignMode,\n    setPrompt,\n    setNegativePrompt,\n    setReferenceImages,\n    setGeneratedBackgrounds,\n    setSelectedBackground,\n    setCanvasWidth,\n    setCanvasHeight,\n    setAspectRatio,\n    setMargin,\n    // 頁面導航函數\n    enterBatchMode,\n    exitBatchMode,\n    enterCustomBgMode,\n    enterBgResultsMode,\n    enterSizeAdjustMode,\n    goBack,\n    // 功能函數\n    toggleBackgroundRemoval,\n    toggleImageSelection,\n    deleteSelectedImages,\n    deleteImage,\n    handleFileUpload,\n    zoomIn,\n    zoomOut,\n    generateBackgrounds,\n    generateMoreBackgrounds,\n    applyBackgroundToImages,\n    updateCanvasSize,\n    setCanvasAspectRatio\n  };\n  return /*#__PURE__*/_jsxDEV(ImageContext.Provider, {\n    value: contextValue,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 321,\n    columnNumber: 5\n  }, this);\n};\n_s2(ImageContextProvider, \"NCYfvZ/bYxRNfZfdKCKT6IrTB5s=\");\n_c = ImageContextProvider;\nexport default ImageContext;\nvar _c;\n$RefreshReg$(_c, \"ImageContextProvider\");","map":{"version":3,"names":["React","createContext","useState","useContext","jsxDEV","_jsxDEV","ImageContext","useImageContext","_s","ImageContextProvider","children","_s2","currentPage","setCurrentPage","autoRemoveBackground","setAutoRemoveBackground","uploadedImages","setUploadedImages","selectedImages","setSelectedImages","isFileMenuOpen","setIsFileMenuOpen","isDownloadMenuOpen","setIsDownloadMenuOpen","backgroundCategory","setBackgroundCategory","searchQuery","setSearchQuery","zoomLevel","setZoomLevel","bgDesignMode","setBgDesignMode","prompt","setPrompt","negativePrompt","setNegativePrompt","referenceImages","setReferenceImages","generatedBackgrounds","setGeneratedBackgrounds","selectedBackground","setSelectedBackground","canvasWidth","setCanvasWidth","canvasHeight","setCanvasHeight","aspectRatio","setAspectRatio","margin","setMargin","recommendedBackgrounds","recentlyUsedBackgrounds","backgroundCategories","id","name","backgroundSubCategories","enterBatchMode","exitBatchMode","enterCustomBgMode","enterBgResultsMode","enterSizeAdjustMode","goBack","toggleBackgroundRemoval","toggleImageSelection","includes","filter","imageId","deleteSelectedImages","img","deleteImage","handleFileUpload","files","length","newImages","Array","from","file","type","startsWith","map","Date","now","Math","random","url","URL","createObjectURL","has_bg_removed","prev","zoomIn","min","zoomOut","max","generateBackgrounds","console","log","mockGeneratedBackgrounds","generateMoreBackgrounds","mockMoreBackgrounds","applyBackgroundToImages","updateCanvasSize","width","height","keepRatio","newHeight","round","newWidth","setCanvasAspectRatio","ratio","contextValue","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/kevinluo/application/Casper_final_version/react-frontend/src/contexts/ImageContext.js"],"sourcesContent":["import React, { createContext, useState, useContext } from 'react';\n\n// 創建圖片上下文\nconst ImageContext = createContext();\n\n// 自定義 Hook 以便於在組件中使用上下文\nexport const useImageContext = () => useContext(ImageContext);\n\n// 上下文提供者組件\nexport const ImageContextProvider = ({ children }) => {\n  // 頁面狀態管理\n  // 'main': 主頁面\n  // 'batch': 批量處理頁面\n  // 'customBg': 自定義背景頁面 (AI 商品圖-2-2)\n  // 'bgResults': 背景生成結果頁面 (AI 商品圖-2-3)\n  // 'sizeAdjust': 尺寸調整頁面 (AI 商品圖-2-4)\n  const [currentPage, setCurrentPage] = useState('main');\n  \n  // 基本設置\n  const [autoRemoveBackground, setAutoRemoveBackground] = useState(true);\n  const [uploadedImages, setUploadedImages] = useState([]);\n  const [selectedImages, setSelectedImages] = useState([]);\n  const [isFileMenuOpen, setIsFileMenuOpen] = useState(false);\n  const [isDownloadMenuOpen, setIsDownloadMenuOpen] = useState(false);\n  const [backgroundCategory, setBackgroundCategory] = useState('all');\n  const [searchQuery, setSearchQuery] = useState('');\n  const [zoomLevel, setZoomLevel] = useState(1); // 1 = 100% (正常大小)\n  \n  // 自定義背景頁面狀態\n  const [bgDesignMode, setBgDesignMode] = useState('recommend'); // 'recommend' 或 'custom'\n  const [prompt, setPrompt] = useState('');\n  const [negativePrompt, setNegativePrompt] = useState('');\n  const [referenceImages, setReferenceImages] = useState([]);\n  \n  // 背景生成結果頁面狀態\n  const [generatedBackgrounds, setGeneratedBackgrounds] = useState([]);\n  const [selectedBackground, setSelectedBackground] = useState(null);\n  \n  // 尺寸調整頁面狀態\n  const [canvasWidth, setCanvasWidth] = useState(1200);\n  const [canvasHeight, setCanvasHeight] = useState(1200);\n  const [aspectRatio, setAspectRatio] = useState('custom'); // 'custom', '1:1', '4:3', '16:9'\n  const [margin, setMargin] = useState(20); // 圖片與畫布的邊距\n\n  // 模擬數據\n  const recommendedBackgrounds = [\n    '/api/placeholder/120/90',\n    '/api/placeholder/120/90',\n    '/api/placeholder/120/90'\n  ];\n  \n  const recentlyUsedBackgrounds = [\n    '/api/placeholder/120/90',\n    '/api/placeholder/120/90',\n    '/api/placeholder/120/90'\n  ];\n\n  // 背景圖分類\n  const backgroundCategories = [\n    { id: 'all', name: '全部' },\n    { id: 'literary', name: '文青' },\n    { id: 'minimal', name: '簡約' },\n    { id: 'fashion', name: '時尚' },\n    { id: 'more', name: '更多' }\n  ];\n  \n  const backgroundSubCategories = [\n    { id: 'home', name: '居家' },\n    { id: 'kitchen', name: '餐廚' },\n    { id: 'flower', name: '花' }\n  ];\n\n  // 頁面導航函數\n  const enterBatchMode = () => setCurrentPage('batch');\n  const exitBatchMode = () => setCurrentPage('main');\n  const enterCustomBgMode = () => setCurrentPage('customBg');\n  const enterBgResultsMode = () => setCurrentPage('bgResults');\n  const enterSizeAdjustMode = () => setCurrentPage('sizeAdjust');\n  const goBack = () => {\n    // 根據當前頁面決定返回哪個頁面\n    switch (currentPage) {\n      case 'customBg':\n        setCurrentPage('batch');\n        break;\n      case 'bgResults':\n        setCurrentPage('customBg');\n        break;\n      case 'sizeAdjust':\n        setCurrentPage('bgResults');\n        break;\n      default:\n        setCurrentPage('main');\n    }\n  };\n\n  // 切換自動去背功能\n  const toggleBackgroundRemoval = () => setAutoRemoveBackground(!autoRemoveBackground);\n\n  // 切換圖片選擇狀態\n  const toggleImageSelection = (id) => {\n    if (selectedImages.includes(id)) {\n      setSelectedImages(selectedImages.filter(imageId => imageId !== id));\n    } else {\n      setSelectedImages([...selectedImages, id]);\n    }\n  };\n\n  // 刪除選中的圖片\n  const deleteSelectedImages = () => {\n    setUploadedImages(uploadedImages.filter(img => !selectedImages.includes(img.id)));\n    setSelectedImages([]);\n  };\n\n  // 刪除單個圖片\n  const deleteImage = (id) => {\n    setUploadedImages(uploadedImages.filter(img => img.id !== id));\n    if (selectedImages.includes(id)) {\n      setSelectedImages(selectedImages.filter(imageId => imageId !== id));\n    }\n  };\n\n  // 處理檔案上傳\n  const handleFileUpload = (files) => {\n    if (files && files.length > 0) {\n      const newImages = Array.from(files)\n        .filter(file => file.type.startsWith('image/'))\n        .map(file => ({\n          id: Date.now() + Math.random(),\n          url: URL.createObjectURL(file),\n          name: file.name,\n          has_bg_removed: autoRemoveBackground\n        }));\n      \n      setUploadedImages(prev => [...prev, ...newImages]);\n      \n      // 如果在主頁面上傳圖片，自動進入批量模式\n      if (currentPage === 'main') {\n        setCurrentPage('batch');\n      }\n    }\n  };\n\n  // 縮放控制\n  const zoomIn = () => setZoomLevel(prev => Math.min(prev + 0.1, 2));\n  const zoomOut = () => setZoomLevel(prev => Math.max(prev - 0.1, 0.5));\n\n  // 生成背景函數\n  const generateBackgrounds = () => {\n    console.log('生成背景，提示詞:', prompt);\n    console.log('負面提示詞:', negativePrompt);\n    console.log('參考圖片數量:', referenceImages.length);\n    \n    // 模擬生成背景的過程\n    // 在實際應用中，這裡會調用 API 生成背景\n    const mockGeneratedBackgrounds = [\n      '/api/placeholder/300/300?text=背景1',\n      '/api/placeholder/300/300?text=背景2',\n      '/api/placeholder/300/300?text=背景3',\n      '/api/placeholder/300/300?text=背景4'\n    ];\n    \n    setGeneratedBackgrounds(mockGeneratedBackgrounds);\n    setSelectedBackground(mockGeneratedBackgrounds[0]); // 默認選中第一個\n    \n    // 導航到背景生成結果頁面\n    enterBgResultsMode();\n  };\n  \n\n  \n  // 生成更多背景選項\n  const generateMoreBackgrounds = () => {\n    console.log('生成更多背景選項');\n    \n    // 模擬生成更多背景\n    const mockMoreBackgrounds = [\n      '/api/placeholder/300/300?text=新背景1',\n      '/api/placeholder/300/300?text=新背景2',\n      '/api/placeholder/300/300?text=新背景3',\n      '/api/placeholder/300/300?text=新背景4'\n    ];\n    \n    setGeneratedBackgrounds(mockMoreBackgrounds);\n    setSelectedBackground(mockMoreBackgrounds[0]);\n  };\n  \n  // 應用選定的背景到所有選中的圖片\n  const applyBackgroundToImages = () => {\n    if (!selectedBackground) return;\n    \n    console.log('應用背景到圖片');\n    \n    // 在實際應用中，這裡會調用 API 將背景應用到圖片\n    // 現在只是模擬這個過程\n    \n    // 返回批量處理頁面\n    setCurrentPage('batch');\n  };\n  \n  // 更新畫布尺寸並保持比例\n  const updateCanvasSize = (width, height, keepRatio = false) => {\n    if (keepRatio) {\n      if (width) {\n        const newHeight = aspectRatio === '1:1' ? width :\n                         aspectRatio === '4:3' ? Math.round(width * 3 / 4) :\n                         aspectRatio === '16:9' ? Math.round(width * 9 / 16) :\n                         height;\n        setCanvasWidth(width);\n        setCanvasHeight(newHeight);\n      } else if (height) {\n        const newWidth = aspectRatio === '1:1' ? height :\n                        aspectRatio === '4:3' ? Math.round(height * 4 / 3) :\n                        aspectRatio === '16:9' ? Math.round(height * 16 / 9) :\n                        width;\n        setCanvasHeight(height);\n        setCanvasWidth(newWidth);\n      }\n    } else {\n      if (width) setCanvasWidth(width);\n      if (height) setCanvasHeight(height);\n    }\n  };\n  \n  // 設置畫布比例\n  const setCanvasAspectRatio = (ratio) => {\n    setAspectRatio(ratio);\n    \n    // 根據新比例調整畫布尺寸\n    if (ratio === 'custom') return; // 自定義比例不自動調整\n    \n    if (ratio === '1:1') {\n      // 使用當前寬度，高度設為相等\n      setCanvasHeight(canvasWidth);\n    } else if (ratio === '4:3') {\n      // 使用當前寬度，計算對應的高度\n      setCanvasHeight(Math.round(canvasWidth * 3 / 4));\n    } else if (ratio === '16:9') {\n      // 使用當前寬度，計算對應的高度\n      setCanvasHeight(Math.round(canvasWidth * 9 / 16));\n    }\n  };\n\n  // 提供的上下文值\n  const contextValue = {\n    // 基本狀態\n    currentPage,\n    autoRemoveBackground,\n    uploadedImages,\n    selectedImages,\n    isFileMenuOpen,\n    isDownloadMenuOpen,\n    backgroundCategory,\n    searchQuery,\n    zoomLevel,\n    recommendedBackgrounds,\n    recentlyUsedBackgrounds,\n    backgroundCategories,\n    backgroundSubCategories,\n    \n    // 自定義背景頁面狀態\n    bgDesignMode,\n    prompt,\n    negativePrompt,\n    referenceImages,\n    \n    // 背景生成結果頁面狀態\n    generatedBackgrounds,\n    selectedBackground,\n    \n    // 尺寸調整頁面狀態\n    canvasWidth,\n    canvasHeight,\n    aspectRatio,\n    margin,\n    \n    // 設置函數\n    setCurrentPage,\n    setAutoRemoveBackground,\n    setUploadedImages,\n    setSelectedImages,\n    setIsFileMenuOpen,\n    setIsDownloadMenuOpen,\n    setBackgroundCategory,\n    setSearchQuery,\n    setZoomLevel,\n    setBgDesignMode,\n    setPrompt,\n    setNegativePrompt,\n    setReferenceImages,\n    setGeneratedBackgrounds,\n    setSelectedBackground,\n    setCanvasWidth,\n    setCanvasHeight,\n    setAspectRatio,\n    setMargin,\n    \n    // 頁面導航函數\n    enterBatchMode,\n    exitBatchMode,\n    enterCustomBgMode,\n    enterBgResultsMode,\n    enterSizeAdjustMode,\n    goBack,\n    \n    // 功能函數\n    toggleBackgroundRemoval,\n    toggleImageSelection,\n    deleteSelectedImages,\n    deleteImage,\n    handleFileUpload,\n    zoomIn,\n    zoomOut,\n    generateBackgrounds,\n    generateMoreBackgrounds,\n    applyBackgroundToImages,\n    updateCanvasSize,\n    setCanvasAspectRatio\n  };\n\n  return (\n    <ImageContext.Provider value={contextValue}>\n      {children}\n    </ImageContext.Provider>\n  );\n};\n\nexport default ImageContext;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}